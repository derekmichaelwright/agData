---
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = T)
```

# agData <img src="Vignettes/agData.png" align="right" width = "200px" />

`agData` contains various agricultural data sets for quick use in `R`:

- `agData_STATCAN_Crops` ( 1908 - 2017 )
- `agData_STATCAN_Livestock` ( 1921 - 2017 )
- `agData_STATCAN_Beehives` ( 1924 - 2017 )
- `agData_USDA_Crops` ( 1866 - 2017 )
- `agData_FAO_Crops` ( 1961 - 2016 )
- `agData_FAO_Livestock` ( 1961 - 2016 )

## Instalation

Use the following code to install the `agdata` package in R

```{r eval = F}
devtools::install_github("derekmichaelwright/agData")
```

## Data Sources

- `STATCAN` Statistics Canada [statcan.gc.ca/](statcan.gc.ca/)  
- `USDA` United States Department of Agriculture [usda.gov/](usda.gov/)
- `FAO` Food and Agriculture Organization of the United Nations [fao.org/faostat/](fao.org/faostat/)

```{r echo = F}
library(agData)
```

## Explore Data

```{r warning = F, message = F}
# Load libraries
library(agData)
library(tidyverse)
```

```{r}
# Load data
xx <- agData_FAO_Crops %>% as.tibble()
xx
# List measurements
xx %>% distinct(Measurement)
# List areas
xx %>% distinct(Area)
# List crops
xx %>% distinct(Crop)
# Spread data to wide format
xx %>% 
  unite(Measurement, Measurement, Unit) %>%
  spread(Measurement, Value)
```

## A Quick Example

```{r fig.width = 10, fig.height = 4}
# Filter data for ploting
xx <- xx %>% 
  filter(Area == "Canada", 
         Crop == "Lentils", 
         Measurement == "Production")
# Plot
ggplot(xx, aes(x = Year, y = Value / 1000000)) + 
  geom_line() +
  labs(title = "Lentil Production", 
       y = "million tonnes",
       x = NULL)
```
